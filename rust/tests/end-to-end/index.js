// yeah yeah I know... node in a rust repo... this was the fasted way I was able to spin this up, perhaps later I refactor this into a REAL language ;)
const { spawnSync } = require('child_process');
const path = require('path');


function test_stdout(args, fixture, FORCE_COLOR = "3", NO_COLOR = false) {
	let { output } = spawnSync(
		path.normalize(`${__dirname}/../../target/release/cfonts`),
		args,
		{
			env: { FORCE_COLOR, ...(NO_COLOR !== false ? { NO_COLOR } : {}) }
		}
	);
	output = output.toString();
	fixture = "," + fixture + ",";
	if(output !== fixture) {
		return `OUTPUT:\n${require("util").inspect(output)}\nFIXTURE:\n${require("util").inspect(fixture)}`;
	} else {
		return 0;
	}
}

function run_tests(tests) {
	let fails = 0;
	tests.forEach(test => {
		let output = test_stdout(test.args, test.fixture, test.FORCE_COLOR, test.NO_COLOR);
		process.stdout.write(`• Running test ${`"\x1b[33m${test.name}\x1b[39m"`.padEnd(57, ' ')} `);
		if(output === 0) {
			process.stdout.write("\x1b[42m TEST SUCCESSFUL \x1b[49m\n");
		} else {
			fails ++;
			process.stdout.write(`\x1b[41m TEST FAILED \x1b[49m\n${output}\n`);
		}
	});

	if(fails > 0) {
		process.exit(1);
	}
}

const TESTS = [
	{
		name: "Default font",
		args: ["test"],
		fixture: '\n\n' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Single color",
		args: ["test", "-c" ,"red"],
		fixture: '\n\n' +
			' \x1B[31m████████\x1B[39m╗ \x1B[31m███████\x1B[39m╗ \x1B[31m███████\x1B[39m╗ \x1B[31m████████\x1B[39m╗\n' +
			' ╚══\x1B[31m██\x1B[39m╔══╝ \x1B[31m██\x1B[39m╔════╝ \x1B[31m██\x1B[39m╔════╝ ╚══\x1B[31m██\x1B[39m╔══╝\n' +
			' \x1B[31m   ██\x1B[39m║    \x1B[31m█████\x1B[39m╗   \x1B[31m███████\x1B[39m╗ \x1B[31m   ██\x1B[39m║   \n' +
			' \x1B[31m   ██\x1B[39m║    \x1B[31m██\x1B[39m╔══╝   ╚════\x1B[31m██\x1B[39m║ \x1B[31m   ██\x1B[39m║   \n' +
			' \x1B[31m   ██\x1B[39m║    \x1B[31m███████\x1B[39m╗ \x1B[31m███████\x1B[39m║ \x1B[31m   ██\x1B[39m║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Two colors",
		args: ["test", "-c" ,"red,blue"],
		fixture: '\n\n' +
			' \x1B[31m████████\x1B[39m\x1B[34m╗\x1B[39m \x1B[31m███████\x1B[39m\x1B[34m╗\x1B[39m \x1B[31m███████\x1B[39m\x1B[34m╗\x1B[39m \x1B[31m████████\x1B[39m\x1B[34m╗\x1B[39m\n' +
			' \x1B[34m╚══\x1B[39m\x1B[31m██\x1B[39m\x1B[34m╔══╝\x1B[39m \x1B[31m██\x1B[39m\x1B[34m╔════╝\x1B[39m \x1B[31m██\x1B[39m\x1B[34m╔════╝\x1B[39m \x1B[34m╚══\x1B[39m\x1B[31m██\x1B[39m\x1B[34m╔══╝\x1B[39m\n' +
			' \x1B[31m   ██\x1B[39m\x1B[34m║   \x1B[39m \x1B[31m█████\x1B[39m\x1B[34m╗  \x1B[39m \x1B[31m███████\x1B[39m\x1B[34m╗\x1B[39m \x1B[31m   ██\x1B[39m\x1B[34m║   \x1B[39m\n' +
			' \x1B[31m   ██\x1B[39m\x1B[34m║   \x1B[39m \x1B[31m██\x1B[39m\x1B[34m╔══╝  \x1B[39m \x1B[34m╚════\x1B[39m\x1B[31m██\x1B[39m\x1B[34m║\x1B[39m \x1B[31m   ██\x1B[39m\x1B[34m║   \x1B[39m\n' +
			' \x1B[31m   ██\x1B[39m\x1B[34m║   \x1B[39m \x1B[31m███████\x1B[39m\x1B[34m╗\x1B[39m \x1B[31m███████\x1B[39m\x1B[34m║\x1B[39m \x1B[31m   ██\x1B[39m\x1B[34m║   \x1B[39m\n' +
			' \x1B[34m   ╚═╝   \x1B[39m \x1B[34m╚══════╝\x1B[39m \x1B[34m╚══════╝\x1B[39m \x1B[34m   ╚═╝   \x1B[39m\n' +
			'\n\n',
	},
	{
		name: "Background colors",
		args: ["test", "-b" ,"blue"],
		fixture: '\x1B[44m\n\n\n' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\x1B[49m\n',
	},
	{
		name: "Background hex colors",
		args: ["test", "-b" ,"#8f67e9"],
		fixture: '\x1B[48;2;143;103;233m\n\n\n' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\x1B[49m\n',
	},
	{
		name: "Respect FORCE_COLOR=0",
		args: ["test", "-c" ,"#ff8800"],
		FORCE_COLOR: "0",
		fixture: '\n\n' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Respect FORCE_COLOR=1",
		args: ["test", "-c" ,"#ff8800"],
		FORCE_COLOR: "1",
		fixture: '\n\n' +
			' \x1B[91m████████\x1B[39m╗ \x1B[91m███████\x1B[39m╗ \x1B[91m███████\x1B[39m╗ \x1B[91m████████\x1B[39m╗\n' +
			' ╚══\x1B[91m██\x1B[39m╔══╝ \x1B[91m██\x1B[39m╔════╝ \x1B[91m██\x1B[39m╔════╝ ╚══\x1B[91m██\x1B[39m╔══╝\n' +
			' \x1B[91m   ██\x1B[39m║    \x1B[91m█████\x1B[39m╗   \x1B[91m███████\x1B[39m╗ \x1B[91m   ██\x1B[39m║   \n' +
			' \x1B[91m   ██\x1B[39m║    \x1B[91m██\x1B[39m╔══╝   ╚════\x1B[91m██\x1B[39m║ \x1B[91m   ██\x1B[39m║   \n' +
			' \x1B[91m   ██\x1B[39m║    \x1B[91m███████\x1B[39m╗ \x1B[91m███████\x1B[39m║ \x1B[91m   ██\x1B[39m║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Respect FORCE_COLOR=2",
		args: ["test", "-c" ,"#ff8800"],
		FORCE_COLOR: "2",
		fixture: '\n\n' +
			' \x1B[38;5;208m████████\x1B[39m╗ \x1B[38;5;208m███████\x1B[39m╗ \x1B[38;5;208m███████\x1B[39m╗ \x1B[38;5;208m████████\x1B[39m╗\n' +
			' ╚══\x1B[38;5;208m██\x1B[39m╔══╝ \x1B[38;5;208m██\x1B[39m╔════╝ \x1B[38;5;208m██\x1B[39m╔════╝ ╚══\x1B[38;5;208m██\x1B[39m╔══╝\n' +
			' \x1B[38;5;208m   ██\x1B[39m║    \x1B[38;5;208m█████\x1B[39m╗   \x1B[38;5;208m███████\x1B[39m╗ \x1B[38;5;208m   ██\x1B[39m║   \n' +
			' \x1B[38;5;208m   ██\x1B[39m║    \x1B[38;5;208m██\x1B[39m╔══╝   ╚════\x1B[38;5;208m██\x1B[39m║ \x1B[38;5;208m   ██\x1B[39m║   \n' +
			' \x1B[38;5;208m   ██\x1B[39m║    \x1B[38;5;208m███████\x1B[39m╗ \x1B[38;5;208m███████\x1B[39m║ \x1B[38;5;208m   ██\x1B[39m║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Respect FORCE_COLOR=3",
		args: ["test", "-c" ,"#ff8800"],
		FORCE_COLOR: "3",
		fixture: '\n\n' +
			' \x1B[38;2;255;136;0m████████\x1B[39m╗ \x1B[38;2;255;136;0m███████\x1B[39m╗ \x1B[38;2;255;136;0m███████\x1B[39m╗ \x1B[38;2;255;136;0m████████\x1B[39m╗\n' +
			' ╚══\x1B[38;2;255;136;0m██\x1B[39m╔══╝ \x1B[38;2;255;136;0m██\x1B[39m╔════╝ \x1B[38;2;255;136;0m██\x1B[39m╔════╝ ╚══\x1B[38;2;255;136;0m██\x1B[39m╔══╝\n' +
			' \x1B[38;2;255;136;0m   ██\x1B[39m║    \x1B[38;2;255;136;0m█████\x1B[39m╗   \x1B[38;2;255;136;0m███████\x1B[39m╗ \x1B[38;2;255;136;0m   ██\x1B[39m║   \n' +
			' \x1B[38;2;255;136;0m   ██\x1B[39m║    \x1B[38;2;255;136;0m██\x1B[39m╔══╝   ╚════\x1B[38;2;255;136;0m██\x1B[39m║ \x1B[38;2;255;136;0m   ██\x1B[39m║   \n' +
			' \x1B[38;2;255;136;0m   ██\x1B[39m║    \x1B[38;2;255;136;0m███████\x1B[39m╗ \x1B[38;2;255;136;0m███████\x1B[39m║ \x1B[38;2;255;136;0m   ██\x1B[39m║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Respect NO_COLOR",
		args: ["test", "-c" ,"#ff8800"],
		FORCE_COLOR: "invalid",
		NO_COLOR: "",
		fixture: '\n\n' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "FORCE_COLOR overrides NO_COLOR",
		args: ["test", "-c" ,"#ff8800"],
		FORCE_COLOR: "3",
		NO_COLOR: "",
		fixture: '\n\n' +
			' \x1B[38;2;255;136;0m████████\x1B[39m╗ \x1B[38;2;255;136;0m███████\x1B[39m╗ \x1B[38;2;255;136;0m███████\x1B[39m╗ \x1B[38;2;255;136;0m████████\x1B[39m╗\n' +
			' ╚══\x1B[38;2;255;136;0m██\x1B[39m╔══╝ \x1B[38;2;255;136;0m██\x1B[39m╔════╝ \x1B[38;2;255;136;0m██\x1B[39m╔════╝ ╚══\x1B[38;2;255;136;0m██\x1B[39m╔══╝\n' +
			' \x1B[38;2;255;136;0m   ██\x1B[39m║    \x1B[38;2;255;136;0m█████\x1B[39m╗   \x1B[38;2;255;136;0m███████\x1B[39m╗ \x1B[38;2;255;136;0m   ██\x1B[39m║   \n' +
			' \x1B[38;2;255;136;0m   ██\x1B[39m║    \x1B[38;2;255;136;0m██\x1B[39m╔══╝   ╚════\x1B[38;2;255;136;0m██\x1B[39m║ \x1B[38;2;255;136;0m   ██\x1B[39m║   \n' +
			' \x1B[38;2;255;136;0m   ██\x1B[39m║    \x1B[38;2;255;136;0m███████\x1B[39m╗ \x1B[38;2;255;136;0m███████\x1B[39m║ \x1B[38;2;255;136;0m   ██\x1B[39m║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Align center",
		args: ["test", "-a" ,"center"],
		fixture: '\n\n' +
			'                      ████████╗ ███████╗ ███████╗ ████████╗\n' +
			'                      ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'                         ██║    █████╗   ███████╗    ██║   \n' +
			'                         ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'                         ██║    ███████╗ ███████║    ██║   \n' +
			'                         ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Align right",
		args: ["test", "-a" ,"right"],
		fixture: '\n\n' +
			'                                           ████████╗ ███████╗ ███████╗ ████████╗\n' +
			'                                           ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'                                              ██║    █████╗   ███████╗    ██║   \n' +
			'                                              ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'                                              ██║    ███████╗ ███████║    ██║   \n' +
			'                                              ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Align top",
		args: ["test", "-a" ,"top"],
		fixture: '' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n\n\n',
	},
	{
		name: "Align bottom",
		args: ["test", "-a" ,"bottom"],
		fixture: '\n\n\n\n' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'',
	},
	{
		name: "Letter spacing 2",
		args: ["test", "-l" ,"2"],
		fixture: '\n\n' +
			'  ████████╗  ███████╗  ███████╗  ████████╗\n' +
			'  ╚══██╔══╝  ██╔════╝  ██╔════╝  ╚══██╔══╝\n' +
			'     ██║     █████╗    ███████╗     ██║   \n' +
			'     ██║     ██╔══╝    ╚════██║     ██║   \n' +
			'     ██║     ███████╗  ███████║     ██║   \n' +
			'     ╚═╝     ╚══════╝  ╚══════╝     ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Letter spacing 2",
		args: ["test", "-l" ,"10"],
		fixture: '\n\n' +
			'          ████████╗          ███████╗          ███████╗          ████████╗\n' +
			'          ╚══██╔══╝          ██╔════╝          ██╔════╝          ╚══██╔══╝\n' +
			'             ██║             █████╗            ███████╗             ██║   \n' +
			'             ██║             ██╔══╝            ╚════██║             ██║   \n' +
			'             ██║             ███████╗          ███████║             ██║   \n' +
			'             ╚═╝             ╚══════╝          ╚══════╝             ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Line break",
		args: ["test|line"],
		fixture: '\n\n' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n' +
			' ██╗      ██╗ ███╗   ██╗ ███████╗\n' +
			' ██║      ██║ ████╗  ██║ ██╔════╝\n' +
			' ██║      ██║ ██╔██╗ ██║ █████╗  \n' +
			' ██║      ██║ ██║╚██╗██║ ██╔══╝  \n' +
			' ███████╗ ██║ ██║ ╚████║ ███████╗\n' +
			' ╚══════╝ ╚═╝ ╚═╝  ╚═══╝ ╚══════╝\n' +
			'\n\n',
	},
	{
		name: "Line height",
		args: ["test|line", "-z", "5"],
		fixture: '\n\n' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'\n\n\n\n\n' +
			' ██╗      ██╗ ███╗   ██╗ ███████╗\n' +
			' ██║      ██║ ████╗  ██║ ██╔════╝\n' +
			' ██║      ██║ ██╔██╗ ██║ █████╗  \n' +
			' ██║      ██║ ██║╚██╗██║ ██╔══╝  \n' +
			' ███████╗ ██║ ██║ ╚████║ ███████╗\n' +
			' ╚══════╝ ╚═╝ ╚═╝  ╚═══╝ ╚══════╝\n' +
			'\n\n',
	},
	{
		name: "Spaceless",
		args: ["test", "-s"],
		fixture: '' +
			' ████████╗ ███████╗ ███████╗ ████████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝\n' +
			'    ██║    █████╗   ███████╗    ██║   \n' +
			'    ██║    ██╔══╝   ╚════██║    ██║   \n' +
			'    ██║    ███████╗ ███████║    ██║   \n' +
			'    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   \n' +
			'',
	},
	{
		name: "Max length at 2",
		args: ["test", "-m", "2"],
		fixture: '\n\n' +
			' ████████╗ ███████╗\n' +
			' ╚══██╔══╝ ██╔════╝\n' +
			'    ██║    █████╗  \n' +
			'    ██║    ██╔══╝  \n' +
			'    ██║    ███████╗\n' +
			'    ╚═╝    ╚══════╝\n' +
			'\n' +
			' ███████╗ ████████╗\n' +
			' ██╔════╝ ╚══██╔══╝\n' +
			' ███████╗    ██║   \n' +
			' ╚════██║    ██║   \n' +
			' ███████║    ██║   \n' +
			' ╚══════╝    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Max length at 3",
		args: ["test", "-m", "3"],
		fixture: '\n\n' +
			' ████████╗ ███████╗ ███████╗\n' +
			' ╚══██╔══╝ ██╔════╝ ██╔════╝\n' +
			'    ██║    █████╗   ███████╗\n' +
			'    ██║    ██╔══╝   ╚════██║\n' +
			'    ██║    ███████╗ ███████║\n' +
			'    ╚═╝    ╚══════╝ ╚══════╝\n' +
			'\n' +
			' ████████╗\n' +
			' ╚══██╔══╝\n' +
			'    ██║   \n' +
			'    ██║   \n' +
			'    ██║   \n' +
			'    ╚═╝   \n' +
			'\n\n',
	},
	{
		name: "Gradient",
		args: ["test", "-g", "red,green"],
		fixture: '\n\n' +
			' \x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;28m█\x1B[39m\x1B[38;2;255;0;56m█\x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m█\x1B[39m\x1B[38;2;255;0;170m█\x1B[39m\x1B[38;2;255;0;198m█\x1B[39m\x1B[38;2;255;0;226m╗\x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m█\x1B[39m\x1B[38;2;141;0;255m█\x1B[39m\x1B[38;2;113;0;255m█\x1B[39m\x1B[38;2;84;0;255m█\x1B[39m\x1B[38;2;56;0;255m█\x1B[39m\x1B[38;2;28;0;255m╗\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m█\x1B[39m\x1B[38;2;0;56;255m█\x1B[39m\x1B[38;2;0;85;255m█\x1B[39m\x1B[38;2;0;113;255m█\x1B[39m\x1B[38;2;0;141;255m█\x1B[39m\x1B[38;2;0;169;255m█\x1B[39m\x1B[38;2;0;198;255m█\x1B[39m\x1B[38;2;0;226;255m╗\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m█\x1B[39m\x1B[38;2;0;255;198m█\x1B[39m\x1B[38;2;0;255;169m█\x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m█\x1B[39m\x1B[38;2;0;255;56m█\x1B[39m\x1B[38;2;0;255;28m█\x1B[39m\x1B[38;2;0;255;0m╗\x1B[39m\n' +
			' \x1B[38;2;255;0;0m╚\x1B[39m\x1B[38;2;255;0;28m═\x1B[39m\x1B[38;2;255;0;56m═\x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m╔\x1B[39m\x1B[38;2;255;0;170m═\x1B[39m\x1B[38;2;255;0;198m═\x1B[39m\x1B[38;2;255;0;226m╝\x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m╔\x1B[39m\x1B[38;2;141;0;255m═\x1B[39m\x1B[38;2;113;0;255m═\x1B[39m\x1B[38;2;84;0;255m═\x1B[39m\x1B[38;2;56;0;255m═\x1B[39m\x1B[38;2;28;0;255m╝\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m█\x1B[39m\x1B[38;2;0;56;255m█\x1B[39m\x1B[38;2;0;85;255m╔\x1B[39m\x1B[38;2;0;113;255m═\x1B[39m\x1B[38;2;0;141;255m═\x1B[39m\x1B[38;2;0;169;255m═\x1B[39m\x1B[38;2;0;198;255m═\x1B[39m\x1B[38;2;0;226;255m╝\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m╚\x1B[39m\x1B[38;2;0;255;198m═\x1B[39m\x1B[38;2;0;255;169m═\x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m╔\x1B[39m\x1B[38;2;0;255;56m═\x1B[39m\x1B[38;2;0;255;28m═\x1B[39m\x1B[38;2;0;255;0m╝\x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;28m \x1B[39m\x1B[38;2;255;0;56m \x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m║\x1B[39m\x1B[38;2;255;0;170m \x1B[39m\x1B[38;2;255;0;198m \x1B[39m\x1B[38;2;255;0;226m \x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m█\x1B[39m\x1B[38;2;141;0;255m█\x1B[39m\x1B[38;2;113;0;255m█\x1B[39m\x1B[38;2;84;0;255m╗\x1B[39m\x1B[38;2;56;0;255m \x1B[39m\x1B[38;2;28;0;255m \x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m█\x1B[39m\x1B[38;2;0;56;255m█\x1B[39m\x1B[38;2;0;85;255m█\x1B[39m\x1B[38;2;0;113;255m█\x1B[39m\x1B[38;2;0;141;255m█\x1B[39m\x1B[38;2;0;169;255m█\x1B[39m\x1B[38;2;0;198;255m█\x1B[39m\x1B[38;2;0;226;255m╗\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m \x1B[39m\x1B[38;2;0;255;198m \x1B[39m\x1B[38;2;0;255;169m \x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m║\x1B[39m\x1B[38;2;0;255;56m \x1B[39m\x1B[38;2;0;255;28m \x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;28m \x1B[39m\x1B[38;2;255;0;56m \x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m║\x1B[39m\x1B[38;2;255;0;170m \x1B[39m\x1B[38;2;255;0;198m \x1B[39m\x1B[38;2;255;0;226m \x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m╔\x1B[39m\x1B[38;2;141;0;255m═\x1B[39m\x1B[38;2;113;0;255m═\x1B[39m\x1B[38;2;84;0;255m╝\x1B[39m\x1B[38;2;56;0;255m \x1B[39m\x1B[38;2;28;0;255m \x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m╚\x1B[39m\x1B[38;2;0;56;255m═\x1B[39m\x1B[38;2;0;85;255m═\x1B[39m\x1B[38;2;0;113;255m═\x1B[39m\x1B[38;2;0;141;255m═\x1B[39m\x1B[38;2;0;169;255m█\x1B[39m\x1B[38;2;0;198;255m█\x1B[39m\x1B[38;2;0;226;255m║\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m \x1B[39m\x1B[38;2;0;255;198m \x1B[39m\x1B[38;2;0;255;169m \x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m║\x1B[39m\x1B[38;2;0;255;56m \x1B[39m\x1B[38;2;0;255;28m \x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;28m \x1B[39m\x1B[38;2;255;0;56m \x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m║\x1B[39m\x1B[38;2;255;0;170m \x1B[39m\x1B[38;2;255;0;198m \x1B[39m\x1B[38;2;255;0;226m \x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m█\x1B[39m\x1B[38;2;141;0;255m█\x1B[39m\x1B[38;2;113;0;255m█\x1B[39m\x1B[38;2;84;0;255m█\x1B[39m\x1B[38;2;56;0;255m█\x1B[39m\x1B[38;2;28;0;255m╗\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m█\x1B[39m\x1B[38;2;0;56;255m█\x1B[39m\x1B[38;2;0;85;255m█\x1B[39m\x1B[38;2;0;113;255m█\x1B[39m\x1B[38;2;0;141;255m█\x1B[39m\x1B[38;2;0;169;255m█\x1B[39m\x1B[38;2;0;198;255m█\x1B[39m\x1B[38;2;0;226;255m║\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m \x1B[39m\x1B[38;2;0;255;198m \x1B[39m\x1B[38;2;0;255;169m \x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m║\x1B[39m\x1B[38;2;0;255;56m \x1B[39m\x1B[38;2;0;255;28m \x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;28m \x1B[39m\x1B[38;2;255;0;56m \x1B[39m\x1B[38;2;255;0;84m╚\x1B[39m\x1B[38;2;255;0;113m═\x1B[39m\x1B[38;2;255;0;141m╝\x1B[39m\x1B[38;2;255;0;170m \x1B[39m\x1B[38;2;255;0;198m \x1B[39m\x1B[38;2;255;0;226m \x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m╚\x1B[39m\x1B[38;2;198;0;255m═\x1B[39m\x1B[38;2;170;0;255m═\x1B[39m\x1B[38;2;141;0;255m═\x1B[39m\x1B[38;2;113;0;255m═\x1B[39m\x1B[38;2;84;0;255m═\x1B[39m\x1B[38;2;56;0;255m═\x1B[39m\x1B[38;2;28;0;255m╝\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m╚\x1B[39m\x1B[38;2;0;56;255m═\x1B[39m\x1B[38;2;0;85;255m═\x1B[39m\x1B[38;2;0;113;255m═\x1B[39m\x1B[38;2;0;141;255m═\x1B[39m\x1B[38;2;0;169;255m═\x1B[39m\x1B[38;2;0;198;255m═\x1B[39m\x1B[38;2;0;226;255m╝\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m \x1B[39m\x1B[38;2;0;255;198m \x1B[39m\x1B[38;2;0;255;169m \x1B[39m\x1B[38;2;0;255;141m╚\x1B[39m\x1B[38;2;0;255;113m═\x1B[39m\x1B[38;2;0;255;85m╝\x1B[39m\x1B[38;2;0;255;56m \x1B[39m\x1B[38;2;0;255;28m \x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			'\n\n',
	},
	{
		name: "Gradient independent",
		args: ["test|x", "-g", "red,green", "-i"],
		fixture: '\n\n' +
			' \x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;28m█\x1B[39m\x1B[38;2;255;0;56m█\x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m█\x1B[39m\x1B[38;2;255;0;170m█\x1B[39m\x1B[38;2;255;0;198m█\x1B[39m\x1B[38;2;255;0;226m╗\x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m█\x1B[39m\x1B[38;2;141;0;255m█\x1B[39m\x1B[38;2;113;0;255m█\x1B[39m\x1B[38;2;84;0;255m█\x1B[39m\x1B[38;2;56;0;255m█\x1B[39m\x1B[38;2;28;0;255m╗\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m█\x1B[39m\x1B[38;2;0;56;255m█\x1B[39m\x1B[38;2;0;85;255m█\x1B[39m\x1B[38;2;0;113;255m█\x1B[39m\x1B[38;2;0;141;255m█\x1B[39m\x1B[38;2;0;169;255m█\x1B[39m\x1B[38;2;0;198;255m█\x1B[39m\x1B[38;2;0;226;255m╗\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m█\x1B[39m\x1B[38;2;0;255;198m█\x1B[39m\x1B[38;2;0;255;169m█\x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m█\x1B[39m\x1B[38;2;0;255;56m█\x1B[39m\x1B[38;2;0;255;28m█\x1B[39m\x1B[38;2;0;255;0m╗\x1B[39m\n' +
			' \x1B[38;2;255;0;0m╚\x1B[39m\x1B[38;2;255;0;28m═\x1B[39m\x1B[38;2;255;0;56m═\x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m╔\x1B[39m\x1B[38;2;255;0;170m═\x1B[39m\x1B[38;2;255;0;198m═\x1B[39m\x1B[38;2;255;0;226m╝\x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m╔\x1B[39m\x1B[38;2;141;0;255m═\x1B[39m\x1B[38;2;113;0;255m═\x1B[39m\x1B[38;2;84;0;255m═\x1B[39m\x1B[38;2;56;0;255m═\x1B[39m\x1B[38;2;28;0;255m╝\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m█\x1B[39m\x1B[38;2;0;56;255m█\x1B[39m\x1B[38;2;0;85;255m╔\x1B[39m\x1B[38;2;0;113;255m═\x1B[39m\x1B[38;2;0;141;255m═\x1B[39m\x1B[38;2;0;169;255m═\x1B[39m\x1B[38;2;0;198;255m═\x1B[39m\x1B[38;2;0;226;255m╝\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m╚\x1B[39m\x1B[38;2;0;255;198m═\x1B[39m\x1B[38;2;0;255;169m═\x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m╔\x1B[39m\x1B[38;2;0;255;56m═\x1B[39m\x1B[38;2;0;255;28m═\x1B[39m\x1B[38;2;0;255;0m╝\x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;28m \x1B[39m\x1B[38;2;255;0;56m \x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m║\x1B[39m\x1B[38;2;255;0;170m \x1B[39m\x1B[38;2;255;0;198m \x1B[39m\x1B[38;2;255;0;226m \x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m█\x1B[39m\x1B[38;2;141;0;255m█\x1B[39m\x1B[38;2;113;0;255m█\x1B[39m\x1B[38;2;84;0;255m╗\x1B[39m\x1B[38;2;56;0;255m \x1B[39m\x1B[38;2;28;0;255m \x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m█\x1B[39m\x1B[38;2;0;56;255m█\x1B[39m\x1B[38;2;0;85;255m█\x1B[39m\x1B[38;2;0;113;255m█\x1B[39m\x1B[38;2;0;141;255m█\x1B[39m\x1B[38;2;0;169;255m█\x1B[39m\x1B[38;2;0;198;255m█\x1B[39m\x1B[38;2;0;226;255m╗\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m \x1B[39m\x1B[38;2;0;255;198m \x1B[39m\x1B[38;2;0;255;169m \x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m║\x1B[39m\x1B[38;2;0;255;56m \x1B[39m\x1B[38;2;0;255;28m \x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;28m \x1B[39m\x1B[38;2;255;0;56m \x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m║\x1B[39m\x1B[38;2;255;0;170m \x1B[39m\x1B[38;2;255;0;198m \x1B[39m\x1B[38;2;255;0;226m \x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m╔\x1B[39m\x1B[38;2;141;0;255m═\x1B[39m\x1B[38;2;113;0;255m═\x1B[39m\x1B[38;2;84;0;255m╝\x1B[39m\x1B[38;2;56;0;255m \x1B[39m\x1B[38;2;28;0;255m \x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m╚\x1B[39m\x1B[38;2;0;56;255m═\x1B[39m\x1B[38;2;0;85;255m═\x1B[39m\x1B[38;2;0;113;255m═\x1B[39m\x1B[38;2;0;141;255m═\x1B[39m\x1B[38;2;0;169;255m█\x1B[39m\x1B[38;2;0;198;255m█\x1B[39m\x1B[38;2;0;226;255m║\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m \x1B[39m\x1B[38;2;0;255;198m \x1B[39m\x1B[38;2;0;255;169m \x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m║\x1B[39m\x1B[38;2;0;255;56m \x1B[39m\x1B[38;2;0;255;28m \x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;28m \x1B[39m\x1B[38;2;255;0;56m \x1B[39m\x1B[38;2;255;0;84m█\x1B[39m\x1B[38;2;255;0;113m█\x1B[39m\x1B[38;2;255;0;141m║\x1B[39m\x1B[38;2;255;0;170m \x1B[39m\x1B[38;2;255;0;198m \x1B[39m\x1B[38;2;255;0;226m \x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m█\x1B[39m\x1B[38;2;198;0;255m█\x1B[39m\x1B[38;2;170;0;255m█\x1B[39m\x1B[38;2;141;0;255m█\x1B[39m\x1B[38;2;113;0;255m█\x1B[39m\x1B[38;2;84;0;255m█\x1B[39m\x1B[38;2;56;0;255m█\x1B[39m\x1B[38;2;28;0;255m╗\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m█\x1B[39m\x1B[38;2;0;56;255m█\x1B[39m\x1B[38;2;0;85;255m█\x1B[39m\x1B[38;2;0;113;255m█\x1B[39m\x1B[38;2;0;141;255m█\x1B[39m\x1B[38;2;0;169;255m█\x1B[39m\x1B[38;2;0;198;255m█\x1B[39m\x1B[38;2;0;226;255m║\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m \x1B[39m\x1B[38;2;0;255;198m \x1B[39m\x1B[38;2;0;255;169m \x1B[39m\x1B[38;2;0;255;141m█\x1B[39m\x1B[38;2;0;255;113m█\x1B[39m\x1B[38;2;0;255;85m║\x1B[39m\x1B[38;2;0;255;56m \x1B[39m\x1B[38;2;0;255;28m \x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;28m \x1B[39m\x1B[38;2;255;0;56m \x1B[39m\x1B[38;2;255;0;84m╚\x1B[39m\x1B[38;2;255;0;113m═\x1B[39m\x1B[38;2;255;0;141m╝\x1B[39m\x1B[38;2;255;0;170m \x1B[39m\x1B[38;2;255;0;198m \x1B[39m\x1B[38;2;255;0;226m \x1B[39m\x1B[38;2;255;0;255m \x1B[39m\x1B[38;2;226;0;255m╚\x1B[39m\x1B[38;2;198;0;255m═\x1B[39m\x1B[38;2;170;0;255m═\x1B[39m\x1B[38;2;141;0;255m═\x1B[39m\x1B[38;2;113;0;255m═\x1B[39m\x1B[38;2;84;0;255m═\x1B[39m\x1B[38;2;56;0;255m═\x1B[39m\x1B[38;2;28;0;255m╝\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;0;28;255m╚\x1B[39m\x1B[38;2;0;56;255m═\x1B[39m\x1B[38;2;0;85;255m═\x1B[39m\x1B[38;2;0;113;255m═\x1B[39m\x1B[38;2;0;141;255m═\x1B[39m\x1B[38;2;0;169;255m═\x1B[39m\x1B[38;2;0;198;255m═\x1B[39m\x1B[38;2;0;226;255m╝\x1B[39m\x1B[38;2;0;255;255m \x1B[39m\x1B[38;2;0;255;226m \x1B[39m\x1B[38;2;0;255;198m \x1B[39m\x1B[38;2;0;255;169m \x1B[39m\x1B[38;2;0;255;141m╚\x1B[39m\x1B[38;2;0;255;113m═\x1B[39m\x1B[38;2;0;255;85m╝\x1B[39m\x1B[38;2;0;255;56m \x1B[39m\x1B[38;2;0;255;28m \x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			'\n' +
			' \x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;145m█\x1B[39m\x1B[38;2;218;0;255m╗\x1B[39m\x1B[38;2;72;0;255m \x1B[39m\x1B[38;2;0;72;255m \x1B[39m\x1B[38;2;0;218;255m█\x1B[39m\x1B[38;2;0;255;145m█\x1B[39m\x1B[38;2;0;255;0m╗\x1B[39m\n' +
			' \x1B[38;2;255;0;0m╚\x1B[39m\x1B[38;2;255;0;145m█\x1B[39m\x1B[38;2;218;0;255m█\x1B[39m\x1B[38;2;72;0;255m╗\x1B[39m\x1B[38;2;0;72;255m█\x1B[39m\x1B[38;2;0;218;255m█\x1B[39m\x1B[38;2;0;255;145m╔\x1B[39m\x1B[38;2;0;255;0m╝\x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;145m╚\x1B[39m\x1B[38;2;218;0;255m█\x1B[39m\x1B[38;2;72;0;255m█\x1B[39m\x1B[38;2;0;72;255m█\x1B[39m\x1B[38;2;0;218;255m╔\x1B[39m\x1B[38;2;0;255;145m╝\x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;145m█\x1B[39m\x1B[38;2;218;0;255m█\x1B[39m\x1B[38;2;72;0;255m╔\x1B[39m\x1B[38;2;0;72;255m█\x1B[39m\x1B[38;2;0;218;255m█\x1B[39m\x1B[38;2;0;255;145m╗\x1B[39m\x1B[38;2;0;255;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;145m█\x1B[39m\x1B[38;2;218;0;255m╔\x1B[39m\x1B[38;2;72;0;255m╝\x1B[39m\x1B[38;2;0;72;255m \x1B[39m\x1B[38;2;0;218;255m█\x1B[39m\x1B[38;2;0;255;145m█\x1B[39m\x1B[38;2;0;255;0m╗\x1B[39m\n' +
			' \x1B[38;2;255;0;0m╚\x1B[39m\x1B[38;2;255;0;145m═\x1B[39m\x1B[38;2;218;0;255m╝\x1B[39m\x1B[38;2;72;0;255m \x1B[39m\x1B[38;2;0;72;255m \x1B[39m\x1B[38;2;0;218;255m╚\x1B[39m\x1B[38;2;0;255;145m═\x1B[39m\x1B[38;2;0;255;0m╝\x1B[39m\n' +
			'\n\n',
	},
	{
		name: "Gradient transition",
		args: ["test", "-g", "red,#ff8800", "-t"],
		fixture: '\n\n' +
			' \x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;3;0m█\x1B[39m\x1B[38;2;255;7;0m█\x1B[39m\x1B[38;2;255;11;0m█\x1B[39m\x1B[38;2;255;15;0m█\x1B[39m\x1B[38;2;255;18;0m█\x1B[39m\x1B[38;2;255;22;0m█\x1B[39m\x1B[38;2;255;26;0m█\x1B[39m\x1B[38;2;255;30;0m╗\x1B[39m\x1B[38;2;255;34;0m \x1B[39m\x1B[38;2;255;37;0m█\x1B[39m\x1B[38;2;255;41;0m█\x1B[39m\x1B[38;2;255;45;0m█\x1B[39m\x1B[38;2;255;49;0m█\x1B[39m\x1B[38;2;255;52;0m█\x1B[39m\x1B[38;2;255;56;0m█\x1B[39m\x1B[38;2;255;60;0m█\x1B[39m\x1B[38;2;255;64;0m╗\x1B[39m\x1B[38;2;255;68;0m \x1B[39m\x1B[38;2;255;71;0m█\x1B[39m\x1B[38;2;255;75;0m█\x1B[39m\x1B[38;2;255;79;0m█\x1B[39m\x1B[38;2;255;83;0m█\x1B[39m\x1B[38;2;255;86;0m█\x1B[39m\x1B[38;2;255;90;0m█\x1B[39m\x1B[38;2;255;94;0m█\x1B[39m\x1B[38;2;255;98;0m╗\x1B[39m\x1B[38;2;255;102;0m \x1B[39m\x1B[38;2;255;105;0m█\x1B[39m\x1B[38;2;255;109;0m█\x1B[39m\x1B[38;2;255;113;0m█\x1B[39m\x1B[38;2;255;117;0m█\x1B[39m\x1B[38;2;255;120;0m█\x1B[39m\x1B[38;2;255;124;0m█\x1B[39m\x1B[38;2;255;128;0m█\x1B[39m\x1B[38;2;255;132;0m█\x1B[39m\x1B[38;2;255;136;0m╗\x1B[39m\n' +
			' \x1B[38;2;255;0;0m╚\x1B[39m\x1B[38;2;255;3;0m═\x1B[39m\x1B[38;2;255;7;0m═\x1B[39m\x1B[38;2;255;11;0m█\x1B[39m\x1B[38;2;255;15;0m█\x1B[39m\x1B[38;2;255;18;0m╔\x1B[39m\x1B[38;2;255;22;0m═\x1B[39m\x1B[38;2;255;26;0m═\x1B[39m\x1B[38;2;255;30;0m╝\x1B[39m\x1B[38;2;255;34;0m \x1B[39m\x1B[38;2;255;37;0m█\x1B[39m\x1B[38;2;255;41;0m█\x1B[39m\x1B[38;2;255;45;0m╔\x1B[39m\x1B[38;2;255;49;0m═\x1B[39m\x1B[38;2;255;52;0m═\x1B[39m\x1B[38;2;255;56;0m═\x1B[39m\x1B[38;2;255;60;0m═\x1B[39m\x1B[38;2;255;64;0m╝\x1B[39m\x1B[38;2;255;68;0m \x1B[39m\x1B[38;2;255;71;0m█\x1B[39m\x1B[38;2;255;75;0m█\x1B[39m\x1B[38;2;255;79;0m╔\x1B[39m\x1B[38;2;255;83;0m═\x1B[39m\x1B[38;2;255;86;0m═\x1B[39m\x1B[38;2;255;90;0m═\x1B[39m\x1B[38;2;255;94;0m═\x1B[39m\x1B[38;2;255;98;0m╝\x1B[39m\x1B[38;2;255;102;0m \x1B[39m\x1B[38;2;255;105;0m╚\x1B[39m\x1B[38;2;255;109;0m═\x1B[39m\x1B[38;2;255;113;0m═\x1B[39m\x1B[38;2;255;117;0m█\x1B[39m\x1B[38;2;255;120;0m█\x1B[39m\x1B[38;2;255;124;0m╔\x1B[39m\x1B[38;2;255;128;0m═\x1B[39m\x1B[38;2;255;132;0m═\x1B[39m\x1B[38;2;255;136;0m╝\x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;3;0m \x1B[39m\x1B[38;2;255;7;0m \x1B[39m\x1B[38;2;255;11;0m█\x1B[39m\x1B[38;2;255;15;0m█\x1B[39m\x1B[38;2;255;18;0m║\x1B[39m\x1B[38;2;255;22;0m \x1B[39m\x1B[38;2;255;26;0m \x1B[39m\x1B[38;2;255;30;0m \x1B[39m\x1B[38;2;255;34;0m \x1B[39m\x1B[38;2;255;37;0m█\x1B[39m\x1B[38;2;255;41;0m█\x1B[39m\x1B[38;2;255;45;0m█\x1B[39m\x1B[38;2;255;49;0m█\x1B[39m\x1B[38;2;255;52;0m█\x1B[39m\x1B[38;2;255;56;0m╗\x1B[39m\x1B[38;2;255;60;0m \x1B[39m\x1B[38;2;255;64;0m \x1B[39m\x1B[38;2;255;68;0m \x1B[39m\x1B[38;2;255;71;0m█\x1B[39m\x1B[38;2;255;75;0m█\x1B[39m\x1B[38;2;255;79;0m█\x1B[39m\x1B[38;2;255;83;0m█\x1B[39m\x1B[38;2;255;86;0m█\x1B[39m\x1B[38;2;255;90;0m█\x1B[39m\x1B[38;2;255;94;0m█\x1B[39m\x1B[38;2;255;98;0m╗\x1B[39m\x1B[38;2;255;102;0m \x1B[39m\x1B[38;2;255;105;0m \x1B[39m\x1B[38;2;255;109;0m \x1B[39m\x1B[38;2;255;113;0m \x1B[39m\x1B[38;2;255;117;0m█\x1B[39m\x1B[38;2;255;120;0m█\x1B[39m\x1B[38;2;255;124;0m║\x1B[39m\x1B[38;2;255;128;0m \x1B[39m\x1B[38;2;255;132;0m \x1B[39m\x1B[38;2;255;136;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;3;0m \x1B[39m\x1B[38;2;255;7;0m \x1B[39m\x1B[38;2;255;11;0m█\x1B[39m\x1B[38;2;255;15;0m█\x1B[39m\x1B[38;2;255;18;0m║\x1B[39m\x1B[38;2;255;22;0m \x1B[39m\x1B[38;2;255;26;0m \x1B[39m\x1B[38;2;255;30;0m \x1B[39m\x1B[38;2;255;34;0m \x1B[39m\x1B[38;2;255;37;0m█\x1B[39m\x1B[38;2;255;41;0m█\x1B[39m\x1B[38;2;255;45;0m╔\x1B[39m\x1B[38;2;255;49;0m═\x1B[39m\x1B[38;2;255;52;0m═\x1B[39m\x1B[38;2;255;56;0m╝\x1B[39m\x1B[38;2;255;60;0m \x1B[39m\x1B[38;2;255;64;0m \x1B[39m\x1B[38;2;255;68;0m \x1B[39m\x1B[38;2;255;71;0m╚\x1B[39m\x1B[38;2;255;75;0m═\x1B[39m\x1B[38;2;255;79;0m═\x1B[39m\x1B[38;2;255;83;0m═\x1B[39m\x1B[38;2;255;86;0m═\x1B[39m\x1B[38;2;255;90;0m█\x1B[39m\x1B[38;2;255;94;0m█\x1B[39m\x1B[38;2;255;98;0m║\x1B[39m\x1B[38;2;255;102;0m \x1B[39m\x1B[38;2;255;105;0m \x1B[39m\x1B[38;2;255;109;0m \x1B[39m\x1B[38;2;255;113;0m \x1B[39m\x1B[38;2;255;117;0m█\x1B[39m\x1B[38;2;255;120;0m█\x1B[39m\x1B[38;2;255;124;0m║\x1B[39m\x1B[38;2;255;128;0m \x1B[39m\x1B[38;2;255;132;0m \x1B[39m\x1B[38;2;255;136;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;3;0m \x1B[39m\x1B[38;2;255;7;0m \x1B[39m\x1B[38;2;255;11;0m█\x1B[39m\x1B[38;2;255;15;0m█\x1B[39m\x1B[38;2;255;18;0m║\x1B[39m\x1B[38;2;255;22;0m \x1B[39m\x1B[38;2;255;26;0m \x1B[39m\x1B[38;2;255;30;0m \x1B[39m\x1B[38;2;255;34;0m \x1B[39m\x1B[38;2;255;37;0m█\x1B[39m\x1B[38;2;255;41;0m█\x1B[39m\x1B[38;2;255;45;0m█\x1B[39m\x1B[38;2;255;49;0m█\x1B[39m\x1B[38;2;255;52;0m█\x1B[39m\x1B[38;2;255;56;0m█\x1B[39m\x1B[38;2;255;60;0m█\x1B[39m\x1B[38;2;255;64;0m╗\x1B[39m\x1B[38;2;255;68;0m \x1B[39m\x1B[38;2;255;71;0m█\x1B[39m\x1B[38;2;255;75;0m█\x1B[39m\x1B[38;2;255;79;0m█\x1B[39m\x1B[38;2;255;83;0m█\x1B[39m\x1B[38;2;255;86;0m█\x1B[39m\x1B[38;2;255;90;0m█\x1B[39m\x1B[38;2;255;94;0m█\x1B[39m\x1B[38;2;255;98;0m║\x1B[39m\x1B[38;2;255;102;0m \x1B[39m\x1B[38;2;255;105;0m \x1B[39m\x1B[38;2;255;109;0m \x1B[39m\x1B[38;2;255;113;0m \x1B[39m\x1B[38;2;255;117;0m█\x1B[39m\x1B[38;2;255;120;0m█\x1B[39m\x1B[38;2;255;124;0m║\x1B[39m\x1B[38;2;255;128;0m \x1B[39m\x1B[38;2;255;132;0m \x1B[39m\x1B[38;2;255;136;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;3;0m \x1B[39m\x1B[38;2;255;7;0m \x1B[39m\x1B[38;2;255;11;0m╚\x1B[39m\x1B[38;2;255;15;0m═\x1B[39m\x1B[38;2;255;18;0m╝\x1B[39m\x1B[38;2;255;22;0m \x1B[39m\x1B[38;2;255;26;0m \x1B[39m\x1B[38;2;255;30;0m \x1B[39m\x1B[38;2;255;34;0m \x1B[39m\x1B[38;2;255;37;0m╚\x1B[39m\x1B[38;2;255;41;0m═\x1B[39m\x1B[38;2;255;45;0m═\x1B[39m\x1B[38;2;255;49;0m═\x1B[39m\x1B[38;2;255;52;0m═\x1B[39m\x1B[38;2;255;56;0m═\x1B[39m\x1B[38;2;255;60;0m═\x1B[39m\x1B[38;2;255;64;0m╝\x1B[39m\x1B[38;2;255;68;0m \x1B[39m\x1B[38;2;255;71;0m╚\x1B[39m\x1B[38;2;255;75;0m═\x1B[39m\x1B[38;2;255;79;0m═\x1B[39m\x1B[38;2;255;83;0m═\x1B[39m\x1B[38;2;255;86;0m═\x1B[39m\x1B[38;2;255;90;0m═\x1B[39m\x1B[38;2;255;94;0m═\x1B[39m\x1B[38;2;255;98;0m╝\x1B[39m\x1B[38;2;255;102;0m \x1B[39m\x1B[38;2;255;105;0m \x1B[39m\x1B[38;2;255;109;0m \x1B[39m\x1B[38;2;255;113;0m \x1B[39m\x1B[38;2;255;117;0m╚\x1B[39m\x1B[38;2;255;120;0m═\x1B[39m\x1B[38;2;255;124;0m╝\x1B[39m\x1B[38;2;255;128;0m \x1B[39m\x1B[38;2;255;132;0m \x1B[39m\x1B[38;2;255;136;0m \x1B[39m\n' +
			'\n\n',
	},
	{
		name: "Gradient transition with multiple colors",
		args: ["test", "-g", "red,#ff8800,blue,red,red", "-t"],
		fixture: '\n\n' +
			' \x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;15;0m█\x1B[39m\x1B[38;2;255;30;0m█\x1B[39m\x1B[38;2;255;45;0m█\x1B[39m\x1B[38;2;255;60;0m█\x1B[39m\x1B[38;2;255;75;0m█\x1B[39m\x1B[38;2;255;90;0m█\x1B[39m\x1B[38;2;255;105;0m█\x1B[39m\x1B[38;2;255;120;0m╗\x1B[39m\x1B[38;2;255;136;0m \x1B[39m\x1B[38;2;226;120;28m█\x1B[39m\x1B[38;2;198;105;56m█\x1B[39m\x1B[38;2;170;90;85m█\x1B[39m\x1B[38;2;141;75;113m█\x1B[39m\x1B[38;2;113;60;141m█\x1B[39m\x1B[38;2;85;45;170m█\x1B[39m\x1B[38;2;56;30;198m█\x1B[39m\x1B[38;2;28;15;226m╗\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;28;0;226m█\x1B[39m\x1B[38;2;56;0;198m█\x1B[39m\x1B[38;2;85;0;170m█\x1B[39m\x1B[38;2;113;0;141m█\x1B[39m\x1B[38;2;141;0;113m█\x1B[39m\x1B[38;2;170;0;85m█\x1B[39m\x1B[38;2;198;0;56m█\x1B[39m\x1B[38;2;226;0;28m╗\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m╗\x1B[39m\n' +
			' \x1B[38;2;255;0;0m╚\x1B[39m\x1B[38;2;255;15;0m═\x1B[39m\x1B[38;2;255;30;0m═\x1B[39m\x1B[38;2;255;45;0m█\x1B[39m\x1B[38;2;255;60;0m█\x1B[39m\x1B[38;2;255;75;0m╔\x1B[39m\x1B[38;2;255;90;0m═\x1B[39m\x1B[38;2;255;105;0m═\x1B[39m\x1B[38;2;255;120;0m╝\x1B[39m\x1B[38;2;255;136;0m \x1B[39m\x1B[38;2;226;120;28m█\x1B[39m\x1B[38;2;198;105;56m█\x1B[39m\x1B[38;2;170;90;85m╔\x1B[39m\x1B[38;2;141;75;113m═\x1B[39m\x1B[38;2;113;60;141m═\x1B[39m\x1B[38;2;85;45;170m═\x1B[39m\x1B[38;2;56;30;198m═\x1B[39m\x1B[38;2;28;15;226m╝\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;28;0;226m█\x1B[39m\x1B[38;2;56;0;198m█\x1B[39m\x1B[38;2;85;0;170m╔\x1B[39m\x1B[38;2;113;0;141m═\x1B[39m\x1B[38;2;141;0;113m═\x1B[39m\x1B[38;2;170;0;85m═\x1B[39m\x1B[38;2;198;0;56m═\x1B[39m\x1B[38;2;226;0;28m╝\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m╚\x1B[39m\x1B[38;2;255;0;0m═\x1B[39m\x1B[38;2;255;0;0m═\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m╔\x1B[39m\x1B[38;2;255;0;0m═\x1B[39m\x1B[38;2;255;0;0m═\x1B[39m\x1B[38;2;255;0;0m╝\x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;15;0m \x1B[39m\x1B[38;2;255;30;0m \x1B[39m\x1B[38;2;255;45;0m█\x1B[39m\x1B[38;2;255;60;0m█\x1B[39m\x1B[38;2;255;75;0m║\x1B[39m\x1B[38;2;255;90;0m \x1B[39m\x1B[38;2;255;105;0m \x1B[39m\x1B[38;2;255;120;0m \x1B[39m\x1B[38;2;255;136;0m \x1B[39m\x1B[38;2;226;120;28m█\x1B[39m\x1B[38;2;198;105;56m█\x1B[39m\x1B[38;2;170;90;85m█\x1B[39m\x1B[38;2;141;75;113m█\x1B[39m\x1B[38;2;113;60;141m█\x1B[39m\x1B[38;2;85;45;170m╗\x1B[39m\x1B[38;2;56;30;198m \x1B[39m\x1B[38;2;28;15;226m \x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;28;0;226m█\x1B[39m\x1B[38;2;56;0;198m█\x1B[39m\x1B[38;2;85;0;170m█\x1B[39m\x1B[38;2;113;0;141m█\x1B[39m\x1B[38;2;141;0;113m█\x1B[39m\x1B[38;2;170;0;85m█\x1B[39m\x1B[38;2;198;0;56m█\x1B[39m\x1B[38;2;226;0;28m╗\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m║\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;15;0m \x1B[39m\x1B[38;2;255;30;0m \x1B[39m\x1B[38;2;255;45;0m█\x1B[39m\x1B[38;2;255;60;0m█\x1B[39m\x1B[38;2;255;75;0m║\x1B[39m\x1B[38;2;255;90;0m \x1B[39m\x1B[38;2;255;105;0m \x1B[39m\x1B[38;2;255;120;0m \x1B[39m\x1B[38;2;255;136;0m \x1B[39m\x1B[38;2;226;120;28m█\x1B[39m\x1B[38;2;198;105;56m█\x1B[39m\x1B[38;2;170;90;85m╔\x1B[39m\x1B[38;2;141;75;113m═\x1B[39m\x1B[38;2;113;60;141m═\x1B[39m\x1B[38;2;85;45;170m╝\x1B[39m\x1B[38;2;56;30;198m \x1B[39m\x1B[38;2;28;15;226m \x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;28;0;226m╚\x1B[39m\x1B[38;2;56;0;198m═\x1B[39m\x1B[38;2;85;0;170m═\x1B[39m\x1B[38;2;113;0;141m═\x1B[39m\x1B[38;2;141;0;113m═\x1B[39m\x1B[38;2;170;0;85m█\x1B[39m\x1B[38;2;198;0;56m█\x1B[39m\x1B[38;2;226;0;28m║\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m║\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;15;0m \x1B[39m\x1B[38;2;255;30;0m \x1B[39m\x1B[38;2;255;45;0m█\x1B[39m\x1B[38;2;255;60;0m█\x1B[39m\x1B[38;2;255;75;0m║\x1B[39m\x1B[38;2;255;90;0m \x1B[39m\x1B[38;2;255;105;0m \x1B[39m\x1B[38;2;255;120;0m \x1B[39m\x1B[38;2;255;136;0m \x1B[39m\x1B[38;2;226;120;28m█\x1B[39m\x1B[38;2;198;105;56m█\x1B[39m\x1B[38;2;170;90;85m█\x1B[39m\x1B[38;2;141;75;113m█\x1B[39m\x1B[38;2;113;60;141m█\x1B[39m\x1B[38;2;85;45;170m█\x1B[39m\x1B[38;2;56;30;198m█\x1B[39m\x1B[38;2;28;15;226m╗\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;28;0;226m█\x1B[39m\x1B[38;2;56;0;198m█\x1B[39m\x1B[38;2;85;0;170m█\x1B[39m\x1B[38;2;113;0;141m█\x1B[39m\x1B[38;2;141;0;113m█\x1B[39m\x1B[38;2;170;0;85m█\x1B[39m\x1B[38;2;198;0;56m█\x1B[39m\x1B[38;2;226;0;28m║\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m█\x1B[39m\x1B[38;2;255;0;0m║\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\n' +
			' \x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;15;0m \x1B[39m\x1B[38;2;255;30;0m \x1B[39m\x1B[38;2;255;45;0m╚\x1B[39m\x1B[38;2;255;60;0m═\x1B[39m\x1B[38;2;255;75;0m╝\x1B[39m\x1B[38;2;255;90;0m \x1B[39m\x1B[38;2;255;105;0m \x1B[39m\x1B[38;2;255;120;0m \x1B[39m\x1B[38;2;255;136;0m \x1B[39m\x1B[38;2;226;120;28m╚\x1B[39m\x1B[38;2;198;105;56m═\x1B[39m\x1B[38;2;170;90;85m═\x1B[39m\x1B[38;2;141;75;113m═\x1B[39m\x1B[38;2;113;60;141m═\x1B[39m\x1B[38;2;85;45;170m═\x1B[39m\x1B[38;2;56;30;198m═\x1B[39m\x1B[38;2;28;15;226m╝\x1B[39m\x1B[38;2;0;0;255m \x1B[39m\x1B[38;2;28;0;226m╚\x1B[39m\x1B[38;2;56;0;198m═\x1B[39m\x1B[38;2;85;0;170m═\x1B[39m\x1B[38;2;113;0;141m═\x1B[39m\x1B[38;2;141;0;113m═\x1B[39m\x1B[38;2;170;0;85m═\x1B[39m\x1B[38;2;198;0;56m═\x1B[39m\x1B[38;2;226;0;28m╝\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m╚\x1B[39m\x1B[38;2;255;0;0m═\x1B[39m\x1B[38;2;255;0;0m╝\x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\x1B[38;2;255;0;0m \x1B[39m\n' +
			'\n\n',
	},
	{
		name: "Browser env",
		args: ["test", "-e", "browser"],
		fixture: '' +
			'<div style="font-family:monospace;white-space:pre;text-align:left;max-width:100%;overflow:scroll;background:currentColor">\n\n' +
			' ████████╗ ███████╗ ███████╗ ████████╗<br> ╚══██╔══╝ ██╔════╝ ██╔════╝ ╚══██╔══╝<br>    ██║    █████╗   ███████╗    ██║   <br>    ██║    ██╔══╝   ╚════██║    ██║   <br>    ██║    ███████╗ ███████║    ██║   <br>    ╚═╝    ╚══════╝ ╚══════╝    ╚═╝   <br>\n' +
			'<div>\n',
	},
];

run_tests(TESTS);
